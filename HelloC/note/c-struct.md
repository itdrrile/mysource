# c > struct结构体

> 在C语言中，可以使用**结构体（struct）**来存放一组**不同类型**的数据，对比与数组中只能存储相同类型的数据
>
> **结构体是一种自定义的数据类型，是创建变量的模板，不占用内存空间；结构体变量才包含了实实在在的数据，需要内存空间来存储**



## 结构体的定义

- 结构体是一种集合，它里面包含了多个变量或数组，它们的类型可以相同，也可以不同，每个这样的变量或数组都称为结构体的成员（Member）

```c
struct 结构体名{
    结构体所包含的变量或数组
}; // 大括号后面的分号;不能少，代表这是一条完整的语句
```

- 结构体成员的定义方式与变量和数组的定义方式相同，只是**不能初始化**

```c
struct stu{
    char *name;   //姓名
    int num;      //学号
    int age;      //年龄
    char group;   //所在学习小组
    float score;  //成绩
};
```



## 结构体变量

- 结构体是一种数据类型，那么就可以用它来定义变量，定义时，关键字`struct`不能少

```c
struct stu stu1, stu2;  // stu1, stu2均为结构体struct stu类型
```

- 可以在定义结构体的同时定义结构体变量

```c
struct stu{
    char *name;   //姓名
    int num;      //学号
    int age;      //年龄
    char group;   //所在学习小组
    float score;  //成绩
} stu1, stu2;  // 定义了stu1, stu2两个结构体变量
```

- 如果只需要 stu1、stu2 两个变量，后面不需要再使用结构体名定义其他变量，那么在定义时也可以不给出结构体名

```c
struct{  // 此处可以不写stu
    char *name;   //姓名
    int num;      //学号
    int age;      //年龄
    char group;   //所在学习小组
    float score;  //成绩
} stu1, stu2;
```

- **理论上讲结构体的各个成员在内存中是连续存储的，和数组非常类似；但是在编译器的具体实现中，各个成员之间可能会存在缝隙**



## 成员的获取和赋值

- 结构体和数组类似，也是一组数据的集合，整体使用没有太大的意义。数组使用下标`[ ]`获取单个元素，结构体使用点号`.`获取单个成员

```c
结构体变量名.成员名;
```

- 可以获取成员的值，也可以给成员赋值

```c
// 定义结构体
struct{
    char *name;  //姓名
    int num;     //学号
    int age;     //年龄
    char group;  //所在小组
    float score; //成绩
} stu1;

//给结构体成员赋值
stu1.name = "Tom";
stu1.num = 12; 
stu1.age = 18; 
stu1.group = 'A';
stu1.score = 136.5;

//读取结构体成员的值
printf("%s的学号是%d，年龄是%d，在%c组，今年的成绩是%.1f！\n", stu1.name, stu1.num, stu1.age, stu1.group, stu1.score);
```

- 除了可以对成员进行逐一赋值，也可以在定义时整体赋值（整体赋值仅限于定义结构体变量的时候，在使用过程中只能对成员逐一赋值）

```c
struct{
    char *name;  //姓名
    int num;     //学号
    int age;     //年龄
    char group;  //所在小组
    float score; //成绩
} stu1, stu2 = { "Tom", 12, 18, 'A', 136.5 };  // 整体赋值仅限于定义结构体变量的时候
```

